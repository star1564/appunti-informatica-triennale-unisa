---
aliases: 
tags:
  - corsi/informatica/programmazione_strutture_dati
paragrafo: Codice
cssclasses:
  - 
---
La `convertArrayStr` è una funzione che converte da una stringa in un array di interi. Ritorna la dimensione logica dell'array di interi.

1. La funzione prenderà in input: `*arr`, `line`.
2. La funzione darà in output: `i`.
	- [[003 Fasi dello Sviluppo del Programma#^23536b|Postcondizione]]: I numeri stringa vengono messi nell'array di interi.

[[003 Fasi dello Sviluppo del Programma#DIZIONARIO DEI DATI|Dizionario dei dati]]:

| Ident. | Tipo    | Desc.                                     |
| ------ | ------- | ----------------------------------------- |
| i      | intero  | Numero di interi ricavati e inseriti      |
| n      | intero  | Numero di caratteri letti                 |
| arr    | array   | Array di interi dove andranno i caratteri |
| line   | stringa | Stringa da dove si prendono i caratteri   |

```C
//Funzione che carica dati da un buffer puntato da line nell'array di interi arr.

int input_array_str(int *arr, char *line){
	int i = 0, n = 0;
	while (sscanf(line, "%d%n", &arr[i], &n) == 1){ //%n indica il numero di caratteri trasformati in numeri interi e gli spazi.
		line += n;
		i++;
	}
	return i;
}
```

Tipica chiamata alla funzione:  
`n_1 = convertArrayStr(arr, line)`.
Nel caso si voglia prendere in input più di un array: 
`n_2 = convertArrayStr(arr_2, line+(n_1*2))`.


[[000 Indice PSD|↖ Ritorna all'indice ↖]]