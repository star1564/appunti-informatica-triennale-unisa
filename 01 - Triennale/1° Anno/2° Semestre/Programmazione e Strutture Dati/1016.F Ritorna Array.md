---
aliases: 
tags:
  - corsi/informatica/programmazione_strutture_dati
paragrafo: Codice
cssclasses:
  - 
---
Per far ritornare un array di qualsiasi tipo da una funzione si deve usare la [[017 Allocazione di memoria#MALLOC|malloc]]. Quindi si deve far ritornare un puntatore dalla funzione dalla funzione.

Per via del [[027 Record di Attivazione|record di attivazione]] ogni array creato all'interno di una funzione viene eliminato alla fine di quest'ultima, pertanto si utilizza la malloc, che fa rimanere attivo l'array fino alla fine dell'intero programma.

<font color="orange">Esempio</font>:
```C
#include <stdlib.h>
#define N_ELEM 5

//Crea e ritorna un array di N_ELEM interi
int *function(){
	int *array, i;
	array = malloc(N_ELEM * sizeof(int));

	for(i = 0; i < N_ELEM; i++);
		array[i] = i+1;

	return array;
}

int main(){
	int *a, i;
	a = function();
	
	for(i = 0; i < N_ELEM; i++);
		printf("%d ", a[i]);
	printf("\n");
	
	return 0;
} 
```

```C
//OUTPUT: 1 2 3 4 5 ...
```

[[000 Indice PSD|↖ Ritorna all'indice ↖]]